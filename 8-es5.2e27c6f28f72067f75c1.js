function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return n=e.done,e},e:function(e){c=!0,i=e},f:function(){try{n||null==r.return||r.return()}finally{if(c)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{UT22:function(e,t,r){"use strict";r.r(t),r.d(t,"ContactoModule",(function(){return z}));var o=r("PCNd"),a=r("tyNb"),i=r("M0ag"),n=r("3Pt+"),c=r("0IaG"),l=r("fXoL"),u=r("5eHb"),b=r("XiUz"),s=r("kmnG"),d=r("qFsG"),m=r("ofXK"),f=r("bTqV");function p(e,t){1&e&&(l.Zb(0,"mat-error"),l.Qc(1,"El campo es requerido"),l.Yb())}function h(e,t){1&e&&(l.Zb(0,"mat-error"),l.Qc(1,"El campo es requerido"),l.Yb())}function v(e,t){1&e&&(l.Zb(0,"mat-error"),l.Qc(1,"El campo es requerido"),l.Yb())}function g(e,t){1&e&&(l.Zb(0,"mat-error"),l.Qc(1,"El campo es requerido"),l.Yb())}function y(e,t){1&e&&(l.Zb(0,"mat-error"),l.Qc(1,"El campo es requerido"),l.Yb())}function C(e,t){1&e&&(l.Zb(0,"mat-error"),l.Qc(1,"El campo es requerido"),l.Yb())}function Y(e,t){1&e&&(l.Zb(0,"mat-error"),l.Qc(1,"El campo es requerido"),l.Yb())}function Z(e,t){1&e&&(l.Zb(0,"mat-error"),l.Qc(1,"El campo es requerido"),l.Yb())}function F(e,t){1&e&&(l.Zb(0,"mat-error"),l.Qc(1,"El campo es requerido"),l.Yb())}function q(e,t){1&e&&(l.Zb(0,"mat-error"),l.Qc(1,"El campo es requerido"),l.Yb())}var k,w=((k=function(){function e(t,r,o,a,i){_classCallCheck(this,e),this.fb=t,this.dialogRef=r,this.data=o,this._toastrService=a,this._contactoService=i,this.titulo=null,this.color="primary",this.btnOpcion="Guardar",this.btnAccion=!0}return _createClass(e,[{key:"ngOnInit",value:function(){switch(this.data.opcion){case"new":this.newContacto();break;case"edit":this.editContacto(this.data.item)}}},{key:"editContacto",value:function(e){this.titulo="Editar contacto ",this.reactiveForm=this.fb.group({id:[e.id,n.v.required],nombres:[e.nombres,n.v.required],apellidos:[e.apellidos,n.v.required],fechaNacimiento:[null,n.v.required],identificacion:[e.identificacion,n.v.required],telefono:[e.telefono,n.v.required],telefonoMovil:[e.telefonoMovil,n.v.required],correoElectronico:[e.correoElectronico,n.v.required],cargo:[e.cargo,n.v.required],direccion:[e.direccion,n.v.required],observaciones:[null,n.v.required]})}},{key:"newContacto",value:function(){this.titulo="Nuevo contacto ",this.reactiveForm=this.fb.group({nombres:[null,n.v.required],apellidos:[null,n.v.required],fechaNacimiento:[null,n.v.required],identificacion:[null,n.v.required],telefono:[null,n.v.required],telefonoMovil:[null,n.v.required],correoElectronico:[null,n.v.required],cargo:[null,n.v.required],direccion:[null,n.v.required],observaciones:[null,n.v.required]})}},{key:"guardar",value:function(){var e=this;if(this.reactiveForm.valid)switch(this.data.opcion){case"new":console.log(this.reactiveForm.value),this._contactoService.agregarContacto(this.reactiveForm.value).then((function(t){console.log(t),e.mensaje({ok:!0,titulo:"Enhora buena",mensaje:"Se ha a\xf1adido un nuevo prospecto"})})).catch((function(t){e.mensaje({ok:!1,titulo:"Error",mensaje:"Se ha producido un error al agregar el prospecto"})}))}}},{key:"mensaje",value:function(e){!0===e.ok?(this._toastrService.success(e.mensaje,e.titulo),this.dialogRef.close({actualizar:!0})):!1===e.ok?(this._toastrService.error(e.mensaje,e.titulo),this.dialogRef.close({actualizar:!1})):this._toastrService.info(e.mensaje,e.titulo)}}]),e}()).\u0275fac=function(e){return new(e||k)(l.Tb(n.e),l.Tb(c.h),l.Tb(c.a),l.Tb(u.b),l.Tb(i.b))},k.\u0275cmp=l.Nb({type:k,selectors:[["app-contacto-lista-opciones"]],decls:60,vars:15,consts:[["mat-dialog-title",""],[1,"form-field-full",3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","100","fxFlex.lt-sm","100"],["matInput","","placeholder","Simple placeholder","formControlName","cargo","required",""],[4,"ngIf"],["fxFlex","50","fxFlex.lt-sm","100"],["matInput","","placeholder","Simple placeholder","formControlName","nombres","required",""],["matInput","","placeholder","Simple placeholder","formControlName","apellidos","required",""],["matInput","","type","date","placeholder","Simple placeholder","formControlName","fechaNacimiento","required",""],["matInput","","placeholder","Simple placeholder","formControlName","identificacion","required",""],["matInput","","type","number","placeholder","Simple placeholder","formControlName","telefono","required",""],["matInput","","type","number","placeholder","Simple placeholder","formControlName","telefonoMovil","required",""],["matInput","","placeholder","Simple placeholder","formControlName","correoElectronico","required",""],["matInput","","placeholder","Simple placeholder","formControlName","direccion","required",""],["matInput","","placeholder","Simple placeholder","formControlName","observaciones","rows","2","required",""],[2,"margin-top","20px"],["mat-raised-button","","mat-dialog-close",""],["fxFlex",""],["mat-raised-button","","cdkFocusInitial","",3,"disabled","color"]],template:function(e,t){1&e&&(l.Zb(0,"h2",0),l.Qc(1),l.Yb(),l.Zb(2,"form",1),l.hc("ngSubmit",(function(){return t.guardar()})),l.Zb(3,"div",2),l.Zb(4,"mat-form-field",3),l.Zb(5,"mat-label"),l.Qc(6,"Cargo"),l.Yb(),l.Ub(7,"input",4),l.Oc(8,p,2,0,"mat-error",5),l.Yb(),l.Zb(9,"mat-form-field",6),l.Zb(10,"mat-label"),l.Qc(11,"Nombres"),l.Yb(),l.Ub(12,"input",7),l.Oc(13,h,2,0,"mat-error",5),l.Yb(),l.Zb(14,"mat-form-field",6),l.Zb(15,"mat-label"),l.Qc(16,"Apellidos"),l.Yb(),l.Ub(17,"input",8),l.Oc(18,v,2,0,"mat-error",5),l.Yb(),l.Zb(19,"mat-form-field",6),l.Zb(20,"mat-label"),l.Qc(21,"Fecha de nacimiento"),l.Yb(),l.Ub(22,"input",9),l.Oc(23,g,2,0,"mat-error",5),l.Yb(),l.Zb(24,"mat-form-field",6),l.Zb(25,"mat-label"),l.Qc(26,"Identificacion"),l.Yb(),l.Ub(27,"input",10),l.Oc(28,y,2,0,"mat-error",5),l.Yb(),l.Zb(29,"mat-form-field",6),l.Zb(30,"mat-label"),l.Qc(31,"Tel\xe9fono"),l.Yb(),l.Ub(32,"input",11),l.Oc(33,C,2,0,"mat-error",5),l.Yb(),l.Zb(34,"mat-form-field",6),l.Zb(35,"mat-label"),l.Qc(36,"Tel\xe9fono movil"),l.Yb(),l.Ub(37,"input",12),l.Oc(38,Y,2,0,"mat-error",5),l.Yb(),l.Zb(39,"mat-form-field",6),l.Zb(40,"mat-label"),l.Qc(41,"Correo electr\xf3nico"),l.Yb(),l.Ub(42,"input",13),l.Oc(43,Z,2,0,"mat-error",5),l.Yb(),l.Zb(44,"mat-form-field",6),l.Zb(45,"mat-label"),l.Qc(46,"Direcci\xf3n"),l.Yb(),l.Ub(47,"input",14),l.Oc(48,F,2,0,"mat-error",5),l.Yb(),l.Zb(49,"mat-form-field"),l.Zb(50,"mat-label"),l.Qc(51,"Observaciones"),l.Yb(),l.Ub(52,"textarea",15),l.Oc(53,q,2,0,"mat-error",5),l.Yb(),l.Yb(),l.Zb(54,"mat-dialog-actions",16),l.Zb(55,"button",17),l.Qc(56,"Cerrar"),l.Yb(),l.Ub(57,"span",18),l.Zb(58,"button",19),l.Qc(59),l.Yb(),l.Yb(),l.Yb()),2&e&&(l.Fb(1),l.Rc(t.titulo),l.Fb(1),l.uc("formGroup",t.reactiveForm),l.Fb(6),l.uc("ngIf",t.reactiveForm.get("cargo").invalid),l.Fb(5),l.uc("ngIf",t.reactiveForm.get("nombres").invalid),l.Fb(5),l.uc("ngIf",t.reactiveForm.get("apellidos").invalid),l.Fb(5),l.uc("ngIf",t.reactiveForm.get("fechaNacimiento").invalid),l.Fb(5),l.uc("ngIf",t.reactiveForm.get("identificacion").invalid),l.Fb(5),l.uc("ngIf",t.reactiveForm.get("telefono").invalid),l.Fb(5),l.uc("ngIf",t.reactiveForm.get("telefonoMovil").invalid),l.Fb(5),l.uc("ngIf",t.reactiveForm.get("correoElectronico").invalid),l.Fb(5),l.uc("ngIf",t.reactiveForm.get("direccion").invalid),l.Fb(5),l.uc("ngIf",t.reactiveForm.get("observaciones").invalid),l.Fb(5),l.vc("color",t.color),l.uc("disabled",!t.btnAccion),l.Fb(1),l.Rc(t.btnOpcion))},directives:[c.i,n.w,n.p,n.j,b.c,b.d,s.c,b.a,s.g,d.b,n.c,n.o,n.h,n.u,m.n,n.s,c.d,f.b,c.e,s.b],styles:[""]}),k),x=r("tgey"),I=r("Qu3c"),S=r("5+WD"),_=r("NFeN"),Q=r("Wp6s"),T=r("hGDI"),O=r("STbY");function E(e,t){if(1&e){var r=l.ac();l.Zb(0,"input",9),l.hc("keyup",(function(e){return l.Gc(r),l.lc().search(e.target.value)})),l.Yb()}}function N(e,t){if(1&e){var r=l.ac();l.Zb(0,"button",10),l.Zb(1,"mat-icon"),l.Qc(2,"more_vert"),l.Yb(),l.Yb(),l.Qc(3),l.Zb(4,"mat-menu",null,11),l.Zb(6,"button",12),l.hc("click",(function(){l.Gc(r);var e=t.$implicit;return l.lc().editContacto(e)})),l.Zb(7,"mat-icon"),l.Qc(8,"edit"),l.Yb(),l.Zb(9,"span"),l.Qc(10,"Editar"),l.Yb(),l.Yb(),l.Zb(11,"button",12),l.hc("click",(function(){l.Gc(r);var e=t.$implicit;return l.lc().deleteContacto(e)})),l.Zb(12,"mat-icon"),l.Qc(13,"delete"),l.Yb(),l.Zb(14,"span"),l.Qc(15,"Eliminar"),l.Yb(),l.Yb(),l.Yb()}if(2&e){var o=t.$implicit,a=l.Dc(5);l.uc("matMenuTriggerFor",a),l.Fb(3),l.Sc(" ",o.identificacion," ")}}var j,M,U,A=function(e){return{nombres:e}},D=((j=function(){function e(t,r,o){_classCallCheck(this,e),this._dialog=t,this._handlError=r,this._contactoService=o,this.dragging=!1,this.columns=L,this.list=[],this.auxList=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getContactos()}},{key:"handleDragStart",value:function(e){this.dragging=!0}},{key:"getContactos",value:function(){var e=this;this._contactoService.traerContactos().subscribe((function(t){var r=function(e){return Object.assign({id:e.payload.doc.id},e.payload.doc.data())};e.list=t.map(r),e.auxList=t.map(r)}),(function(t){return e._handlError.of(t)}))}},{key:"search",value:function(e){var t=[];this.list=this.auxList;var r,o=_createForOfIteratorHelper(this.list);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.nombres.toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(a)}}catch(i){o.e(i)}finally{o.f()}this.list=t}},{key:"nuevoContacto",value:function(){this.showDialog("new")}},{key:"editContacto",value:function(e){this.showDialog("edit",e)}},{key:"deleteContacto",value:function(e){console.log(e)}},{key:"showDialog",value:function(e,t){this._dialog.open(w,{width:"600px",data:{opcion:e,item:t}})}}]),e}()).\u0275fac=function(e){return new(e||j)(l.Tb(c.c),l.Tb(i.e),l.Tb(i.b))},j.\u0275cmp=l.Nb({type:j,selectors:[["app-contacto-lista"]],decls:12,vars:8,consts:[[1,"bg-gray-50","text-blue-grey-700"],["matTooltip","Crear prospecto","cdkDrag","",1,"customizer-handle",3,"cdkDragStarted"],["mat-mini-fab","",1,"red-gradient",3,"click"],["aria-label","Example icon-button with a settings icon"],["fxLayout","row wrap",1,"matero-row"],["fxFlex.lt-sm","100",1,"matero-col","mat-elevation-z3","card-list",3,"fxFlex"],[1,"table",3,"data","columns","showToolbar","toolbarTemplate","cellTemplate"],["toolbarTpl",""],["opciones",""],["placeholder","Buscar",3,"keyup"],["mat-icon-button","","aria-label","Open Menu",3,"matMenuTriggerFor"],["menu2","matMenu"],["mat-menu-item","",3,"click"]],template:function(e,t){if(1&e&&(l.Ub(0,"page-header",0),l.Zb(1,"div",1),l.hc("cdkDragStarted",(function(e){return t.handleDragStart(e)})),l.Zb(2,"button",2),l.hc("click",(function(){return t.nuevoContacto()})),l.Zb(3,"mat-icon",3),l.Qc(4,"add"),l.Yb(),l.Yb(),l.Yb(),l.Zb(5,"div",4),l.Zb(6,"mat-card",5),l.Ub(7,"mtx-grid",6),l.Oc(8,E,1,0,"ng-template",null,7,l.Pc),l.Oc(10,N,16,2,"ng-template",null,8,l.Pc),l.Yb(),l.Yb()),2&e){var r=l.Dc(9),o=l.Dc(11);l.Fb(6),l.uc("fxFlex",100),l.Fb(1),l.uc("data",t.list)("columns",t.columns)("showToolbar",!0)("toolbarTemplate",r)("cellTemplate",l.xc(6,A,o))}},directives:[x.a,I.a,S.a,f.b,_.a,b.c,Q.a,b.a,T.a,O.c,O.d,O.a],styles:[".customizer-handle[_ngcontent-%COMP%]{position:fixed;top:85px;right:30px;z-index:200}.card-list[_ngcontent-%COMP%]{padding:0}.table[_ngcontent-%COMP%]{border:none}"]}),j),L=[{header:"Nombres",field:"nombres"},{header:"Apellidos",field:"apellidos"},{header:"Tel\xe9fono",field:"telefono"},{header:"Tel\xe9fono movil",field:"telefonoMovil"},{header:"Correo electr\xf3nico",field:"correoElectronico"},{header:"Direcci\xf3n",field:"direccion"},{header:"Cargo",field:"cargo"}],G=[{path:"",component:D}],P=((U=function e(){_classCallCheck(this,e)}).\u0275mod=l.Rb({type:U}),U.\u0275inj=l.Qb({factory:function(e){return new(e||U)},imports:[[a.j.forChild(G)],a.j]}),U),z=((M=function e(){_classCallCheck(this,e)}).\u0275mod=l.Rb({type:M}),M.\u0275inj=l.Qb({factory:function(e){return new(e||M)},imports:[[o.a,P]]}),M)}}]);